<div class="p-6">
  <h2 mat-dialog-title class="text-2xl font-bold mb-6">{{ dialogTitle }}</h2>
  
  <form [formGroup]="evaluatorForm" (ngSubmit)="onSubmit()">
    <div mat-dialog-content class="space-y-4">
      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Evaluator Name</mat-label>
        <input matInput formControlName="evaluatorName" placeholder="Enter evaluator name">
        <mat-error *ngIf="evaluatorForm.get('evaluatorName')?.hasError('required')">
          Evaluator name is required
        </mat-error>
        <mat-error *ngIf="evaluatorForm.get('evaluatorName')?.hasError('maxlength')">
          Evaluator name cannot exceed 100 characters
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" class="w-full" *ngIf="!data.isEdit">
        <mat-label>User ID</mat-label>
        <input matInput type="number" formControlName="userId" placeholder="Enter user ID">
        <mat-error *ngIf="evaluatorForm.get('userId')?.hasError('required')">
          User ID is required
        </mat-error>
        <mat-error *ngIf="evaluatorForm.get('userId')?.hasError('min')">
          User ID must be a positive number
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Expertise</mat-label>
        <textarea matInput formControlName="expertise" placeholder="Enter expertise" rows="3"></textarea>
        <mat-error *ngIf="evaluatorForm.get('expertise')?.hasError('required')">
          Expertise is required
        </mat-error>
        <mat-error *ngIf="evaluatorForm.get('expertise')?.hasError('maxlength')">
          Expertise cannot exceed 200 characters
        </mat-error>
      </mat-form-field>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <mat-form-field appearance="fill" class="w-full">
          <mat-label>Max Assignments</mat-label>
          <input matInput type="number" formControlName="maxAssignments" placeholder="Enter max assignments">
          <mat-error *ngIf="evaluatorForm.get('maxAssignments')?.hasError('required')">
            Max assignments is required
          </mat-error>
          <mat-error *ngIf="evaluatorForm.get('maxAssignments')?.hasError('min')">
            Max assignments must be at least 1
          </mat-error>
          <mat-error *ngIf="evaluatorForm.get('maxAssignments')?.hasError('max')">
            Max assignments cannot exceed 20
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill" class="w-full">
          <mat-label>Evaluator Type</mat-label>
          <mat-select formControlName="type">
            <mat-option *ngFor="let type of evaluatorTypes" [value]="type.value">
              {{ type.label }}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="evaluatorForm.get('type')?.hasError('required')">
            Evaluator type is required
          </mat-error>
        </mat-form-field>
      </div>

      <div *ngIf="data.isEdit" class="flex items-center mt-4">
        <mat-slide-toggle formControlName="isActive" color="primary">
          Active
        </mat-slide-toggle>
        <span class="ml-2 text-sm text-slate-600">
          Inactive evaluators cannot be assigned to new proposals
        </span>
      </div>
    </div>

    <div mat-dialog-actions class="flex justify-end gap-3 mt-6">
      <button mat-stroked-button type="button" (click)="onCancel()">
        Cancel
      </button>
      <button 
        mat-flat-button 
        color="primary" 
        type="submit" 
        [disabled]="evaluatorForm.invalid"
        class="bg-gradient-to-r from-purple-600 to-indigo-600">
        {{ submitButtonText }}
      </button>
    </div>
  </form>
</div>
